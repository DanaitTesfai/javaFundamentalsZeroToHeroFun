ğŸ“š SCENARIO-BASED PROBLEM
Library Book Lending Management System
(Console App â€“ MVC + File + Map & Set + OOP)

1ï¸âƒ£ SCENARIO (REAL-WORLD CONTEXT)
A community library rents books to registered members.

Currently:

Books are tracked manually

Same book is sometimes lent to multiple people

Member borrowing history is lost

Data is not persistent

The library wants a Java console application that:

Manages books and members

Prevents duplicate book IDs

Tracks which member borrowed which books

Saves data in files

Uses modern Java design practices

2ï¸âƒ£ CORE BUSINESS RULES
Each Book ID must be unique

A book can only be borrowed by one member at a time

A member can borrow multiple books

Borrowing history must persist in files

System must follow MVC architecture

Must use:

Set for uniqueness

Map for relationships

List for collections

3ï¸âƒ£ REQUIRED CONCEPTS (MANDATORY)
âœ… MVC Pattern
âœ… File Management
âœ… Exception Handling
âœ… Interface + Implementation
âœ… Abstract Class
âœ… Inheritance
âœ… Composition
âœ… Menu-driven Console App
âœ… Map & Set (NEW)

4ï¸âƒ£ OBJECT MODEL (DOMAIN DESIGN)
âœ… MODEL LAYER
ğŸ”¹ Abstract Class: Person
Purpose: Base class for people in the library

Fields

Field	Type	Reason
id	int	Unique identifier
name	String	Person name
Methods

getRole() â†’ abstract

ğŸ”¹ Class: Member extends Person
Purpose: Library member

Fields

Field	Type	Reason
email	String	Member info
ğŸ”¹ Class: Book
Purpose: Represents a library book

Fields

Field	Type	Reason
bookId	int	Unique book identifier
title	String	Book title
author	String	Author name
âœ… DATA RELATIONSHIP (MAP & SET USAGE)
ğŸ”¸ Set Usage
Set<Integer> bookIds;
Set<Integer> memberIds;
âœ… Prevents duplicate book IDs and member IDs

ğŸ”¸ Map Usage (CORE REQUIREMENT)
Map<Integer, Set<Integer>> borrowedBooks;
Meaning

MemberID â†’ Set of BookIDs
âœ… One member â†’ many books
âœ… No duplicate borrowing
âœ… Fast lookups

5ï¸âƒ£ REPOSITORY LAYER (FILE-BASED)
ğŸ”¹ Interfaces Required
Interface	Responsibility
BookRepository	Save & load books
MemberRepository	Save & load members
BorrowRepository	Save borrowing records
ğŸ“Œ Each repository uses a separate file:

books.txt
members.txt
borrowed.txt
ğŸ“Œ Borrow file format:

MEMBER_ID:BOOK_ID,BOOK_ID,BOOK_ID
Example:

101:1,3,5
6ï¸âƒ£ SERVICE LAYER (BUSINESS LOGIC)
ğŸ”¹ LibraryService
Responsibilities

Register books

Register members

Borrow a book

Prevent:

duplicate book IDs

double borrowing of same book

Maintain Map & Set consistency

REQUIRED COLLECTIONS
private Set<Integer> bookIds;
private Set<Integer> memberIds;
private Map<Integer, Set<Integer>> borrowedBooks;
7ï¸âƒ£ CONTROLLER LAYER
Acts as a bridge

Receives UI inputs

Calls service methods

Handles exceptions

Prints friendly messages

8ï¸âƒ£ VIEW LAYER (MENU SYSTEM)
REQUIRED MENU
====== Library System ======
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
9ï¸âƒ£ FILE MANAGEMENT RULES
âœ… All file handling MUST be inside repositories
âœ… Service & Controller must not touch files
âœ… Data must load on system startup

ğŸ”Ÿ SAMPLE PROBLEM INSTRUCTIONS (EXAM STYLE)
Problem:
Design and implement a Java console-based Library Lending Management System using MVC pattern.

The system should track books, members, and borrowing information.

Implement file persistence, prevent duplicate records using Set, and manage borrowing relationships using Map.

Apply OOP concepts such as inheritance, interfaces, abstract classes, composition, and exception handling.

1ï¸âƒ£1ï¸âƒ£ SAMPLE CONSOLE OUTPUT
====== Library System ======
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose option: 1

Enter Book ID: 1
Enter Title: Clean Code
Enter Author: Robert Martin
âœ… Book added successfully

Choose option: 3
Enter Member ID: 101
Enter Book ID: 1
âœ… Book borrowed successfully

Choose option: 3
Enter Member ID: 102
Enter Book ID: 1
âŒ Error: Book already borrowed




Hereâ€™s the full Library Book Lending Management System code, using:

MVC pattern

File repositories

Map + Set for relationships & uniqueness

Abstract class, inheritance, interfaces, composition

Exception handling

Console menu

You can copyâ€“paste these into files following the package structure.



ğŸ“ Project Structure

library-management/
â”‚
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ Person.java
â”‚   â”œâ”€â”€ Member.java
â”‚   â””â”€â”€ Book.java
â”‚
â”œâ”€â”€ repository/
â”‚   â”œâ”€â”€ BookRepository.java
â”‚   â”œâ”€â”€ MemberRepository.java
â”‚   â”œâ”€â”€ BorrowRepository.java
â”‚   â”œâ”€â”€ FileBookRepository.java
â”‚   â”œâ”€â”€ FileMemberRepository.java
â”‚   â””â”€â”€ FileBorrowRepository.java
â”‚
â”œâ”€â”€ service/
â”‚   â””â”€â”€ LibraryService.java
â”‚
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ LibraryController.java
â”‚
â”œâ”€â”€ view/
â”‚   â””â”€â”€ LibraryView.java
â”‚
â””â”€â”€ Main.java



================================
      LIBRARY SYSTEM MENU
================================
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose an option: 1
Enter Book ID: 1
Enter Book Title: Clean Code
Enter Book Author: Robert Martin
âœ… Book added successfully.

================================
      LIBRARY SYSTEM MENU
================================
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose an option: 2
Enter Member ID: 101
Enter Member Name: Alice
Enter Member Email: alice@example.com
âœ… Member added successfully.

================================
      LIBRARY SYSTEM MENU
================================
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose an option: 3
Enter Member ID: 101
Enter Book ID: 1
âœ… Book borrowed successfully.

================================
      LIBRARY SYSTEM MENU
================================
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose an option: 3
Enter Member ID: 102
Enter Book ID: 1
âŒ Error: Book is already borrowed by another member!

================================
      LIBRARY SYSTEM MENU
================================
1. Add Book
2. Add Member
3. Borrow Book
4. View All Books
5. View Borrowed Books
0. Exit
Choose an option: 5

--- Borrowed Books ---
Member ID: 101 -> Books: [1]

================================
      LIBRARY SYSTEM MENU
================================
0. Exit
Choose an option: 0
ğŸ‘‹ Exiting Library System. Goodbye!